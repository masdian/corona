) %>%
tab_source_note("Table: @thomasmock | Data: OurWorldInData.org")
table_data %>%
select(-crop) %>%
rowwise() %>%
mutate(
mean = mean(`2013`:`2017`),
ggplot = NA
) %>%
gt() %>%
text_transform(
locations = cells_body(vars(ggplot)),
fn = function(x) {
map(bar_yields$plot, ggplot_image, height = px(15), aspect_ration = 4)
}
) %>%
cols_width(vars(ggplot) ~ px(100)) %>%
cols_label(
mean = "2013-2017",
ggplot = ""
) %>%
fmt_number(2:4) %>%
tab_spanner(
label = "Potato Yield in Tonnes/Hectare",
columns = c(2, 3)
) %>%
tab_spanner(
label = "Average",
columns = 4
) %>%
tab_style(
style = cell_text(color = "black", weight = "bold"),
locations = list(
cells_column_spanners(everything()),
cells_column_labels(everything())
)
) %>%
tab_options(
row_group.border.top.width = px(3),
row_group.border.top.color = "black",
row_group.border.bottom.color = "black",
table_body.hlines.color = "white",
table.border.top.color = "white",
table.border.top.width = px(3),
table.border.bottom.color = "white",
table.border.bottom.width = px(3),
table_body.border.bottom.width = px(2),
table_body.border.bottom.color = "black",
column_labels.border.bottom.color = "black",
column_labels.border.bottom.width = px(3)
) %>%
tab_source_note("Table: @thomasmock | Data: OurWorldInData.org")
table_data %>%
select(-crop) %>%
rowwise() %>%
mutate(
mean = mean(`2013`:`2017`),
ggplot = NA
) %>%
gt() %>%
text_transform(
locations = cells_body(vars(ggplot)),
fn = function(x) {
map(bar_yields$plot, ggplot_image, height = px(15), aspect_ratio = 4)
}
) %>%
cols_width(vars(ggplot) ~ px(100)) %>%
cols_label(
mean = "2013-2017",
ggplot = ""
) %>%
fmt_number(2:4) %>%
tab_spanner(
label = "Potato Yield in Tonnes/Hectare",
columns = c(2, 3)
) %>%
tab_spanner(
label = "Average",
columns = 4
) %>%
tab_style(
style = cell_text(color = "black", weight = "bold"),
locations = list(
cells_column_spanners(everything()),
cells_column_labels(everything())
)
) %>%
tab_options(
row_group.border.top.width = px(3),
row_group.border.top.color = "black",
row_group.border.bottom.color = "black",
table_body.hlines.color = "white",
table.border.top.color = "white",
table.border.top.width = px(3),
table.border.bottom.color = "white",
table.border.bottom.width = px(3),
table_body.border.bottom.width = px(2),
table_body.border.bottom.color = "black",
column_labels.border.bottom.color = "black",
column_labels.border.bottom.width = px(3)
) %>%
tab_source_note("Table: @thomasmock | Data: OurWorldInData.org")
plot_bar(c(2, 3, 4, 5))
library(tidyverse)
library(readxl)
db <- read_excel("G:/My Drive/#PMB/2020/Dashboard/maba20_4web.xlsx")
data <- db %>%
group_by(jalur) %>%
summarize(lolos = n(),
regis = sum(registrasi == "registrasi", na.rm = T),
nim = sum(nim == "diterima", na.rm = T))
data
db %>% filter(jalur == `5_ALIH JENJANG`)
db %>% filter(jalur == "5_ALIH JENJANG")
View(db %>% filter(jalur == "5_ALIH JENJANG"))
data
db <- read_excel("G:/My Drive/#PMB/2020/Dashboard/maba20_4web.xlsx")
data <- db %>%
group_by(jalur) %>%
summarize(lolos = n(),
regis = sum(registrasi == "registrasi", na.rm = T),
nim = sum(nim == "diterima", na.rm = T))
data
sum(data$nim)
db <- read_excel("G:/My Drive/#PMB/2020/Dashboard/maba20_4web.xlsx")
data <- db %>%
group_by(jalur) %>%
summarize(lolos = n(),
regis = sum(registrasi == "registrasi", na.rm = T),
nim = sum(nim == "diterima", na.rm = T))
data
data <- db %>%
filter(nim == "diterima") %>%
group_by(jk, fakultas) %>%
summarize(total = n()) %>%
pivot_wider(names_from = jk, values_from = total)
names(data) <- c("Fakultas", "Laki-Laki", "Perempuan")
data
data <- db %>%
filter(nim == "diterima") %>%
group_by(jk, fakultas) %>%
summarize(total = n()) %>%
pivot_wider(names_from = jk, values_from = total)
names(data) <- c("Fakultas", "Laki-Laki", "Perempuan")
data$Fakultas <- c("Hukum", "FKIP", "Teknik", "Pertanian", "FEB", "FISIP", "Pascasarjana","Kedokteran")
### agar sesuai urutan dibuat faktor dengan level yang berurutan
data$Fakultas <- factor(data$Fakultas, levels = data[["Fakultas"]])
plot_ly(data, x = ~Fakultas, y = ~`Laki-Laki`, type = 'bar', name = "Laki-Laki") %>%
add_trace(y = ~Perempuan, name = "Perempuan") %>%
layout(yaxis = list(title = ' '), barmode = 'group')
library(plotly)
library(shiny)
plot_ly(data, x = ~Fakultas, y = ~`Laki-Laki`, type = 'bar', name = "Laki-Laki") %>%
add_trace(y = ~Perempuan, name = "Perempuan") %>%
layout(yaxis = list(title = ' '), barmode = 'group')
library(janitor)
library(kableExtra)
data <- adorn_totals(data, where = c("row", "col"), name = "JML")
kable(data) %>%
kable_styling(bootstrap_options = "striped", full_width = F,
latex_options = "scale_down") %>%
add_header_above(c(" " = 1, "Jenis Kelamin" = 2, " " = 1))
data <- db %>%
filter(nim == "diterima" & jalur != "7_Pascasarjana") %>%
group_by(negeri) %>%
summarize(banyak = n())
data
div(plot_ly(type = "pie", labels = data$negeri, values = data$banyak,
textinfo = "label+percent",
insidetextorientation = "radial"), align = "center")
data <- db %>%
filter(nim == "diterima" & jalur != "7_Pascasarjana") %>%
group_by(jns_sklh) %>%
summarize(banyak = n())
div(plot_ly(type = "pie", labels = data$jns_sklh, values = data$banyak,
textinfo = "label+percent",
insidetextorientation = "radial"), align = "center")
data <- db %>%
filter(nim == "diterima" & jalur != "7_Pascasarjana") %>%
group_by(provinsi, jk) %>%
summarize(tot = n())
data <- data %>%
pivot_wider(names_from = jk, values_from = tot)
data[is.na(data)] <- 0
data <- adorn_totals(data, where = "col", name = "JML")
data <- arrange(data, desc(JML))
data <- adorn_totals(data, where = "row", name = "JML")
names(data) <- c("Provinsi", "Perempuan", "Laki-Laki", "JML")
kable(data) %>%
kable_styling(bootstrap_options = "striped", full_width = F,
latex_options = "scale_down") %>%
add_header_above(c(" " = 1, "Jenis Kelamin" = 2, " " = 1))
data <- db %>%
filter(nim == "diterima" & jalur != "7_Pascasarjana") %>%
group_by(pend_ortu, jk) %>%
summarize(tot = n())
data <- data %>%
pivot_wider(names_from = jk, values_from = tot)
data[is.na(data)] <- 0
names(data) <- c("Pendidikan", "Laki-Laki", "Perempuan")
data$Pendidikan <- c("Tidak Ada Data", "Tidak Sekolah", "Tidak Tamat SD", "SD", "SLTP", "SLTA", "D1", "D2", "D3", "D4", "S1", "S2", "S3")
data <- adorn_totals(data, where = c("col", "row"), name = "JML")
kable(data) %>%
kable_styling(bootstrap_options = "striped", full_width = F,
latex_options = "scale_down") %>%
add_header_above(c(" " = 1, "Jenis Kelamin" = 2, " " = 1))
warnings()
data <- db %>%
group_by(fakultas, prodi) %>%
summarize(lulus = n(),
sudah = sum(na.omit(registrasi == "registrasi")),
belum = lulus - sudah,
diterima = sum(na.omit(nim == "diterima")))
data
data <- data %>%
group_by(fakultas) %>%
summarize(lulus = sum(lulus),
sudah = sum(sudah),
belum = sum(belum),
diterima = sum(diterima))
data
data$fakultas <- c("Hukum", "FKIP", "Teknik", "Pertanian",
"FEB", "FISIP", "Pascasarjana","Kedokteran")
data$fakultas  <- factor(data$fakultas, levels = data[["fakultas"]])
plot_ly(data, x = ~fakultas, y = ~lulus, type = "bar", name = "Total") %>%
add_trace(y = ~sudah, name = "registrasi berkas") %>%
add_trace(y = ~diterima, name = "bayar UKT") %>%
layout(
title = "",
yaxis = list(title = ""),
xaxis = list(title = "Fakultas"),
hovermode = "compare"
)
data <- adorn_totals(data, where = "row", name = "Total")
data$pers_sudah <- round(data$sudah / data$lulus * 100, 0)
data$pers_belum <- round(data$belum / data$lulus * 100, 0)
data <- data[,c(1:4,6:7,5)]
names(data) <- c("Fakultas", "Lolos Seleksi", "Ya", "Tidak", "Ya (%)", "Tidak (%)", "Bayar UKT")
kable(data) %>%
kable_styling(bootstrap_options = "striped", full_width = F,
latex_options = "scale_down") %>%
add_header_above(c(" " = 2, "Registrasi Berkas" = 4," " = 1))
data <- db %>%
group_by(fakultas, prodi) %>%
summarize(lulus = n(),
sudah = sum(na.omit(registrasi == "registrasi")),
belum = lulus - sudah,
diterima = sum(na.omit(nim == "diterima")))
data <- data[, -1]
data <- adorn_totals(data,where = "row", name = "Total")
data$pers_sudah <- round(data$sudah / data$lulus * 100, 0)
data$pers_belum <- round(data$belum / data$lulus * 100, 0)
data <- data[,c(1:4,6, 7, 5)]
names(data) <- c("Fakultas/Program Studi", "Lolos Seleksi", "Ya", "Tidak", "Ya (%)", "Tidak (%)", "Bayar UKT")
View(data)
kable(data, row.names = F) %>%
kable_styling(bootstrap_options = "striped", full_width = F,
latex_options = "scale_down") %>%
add_header_above(c(" " = 2, "Registrasi" = 4, " " = 1)) %>%
pack_rows("Hukum", 1, 1, label_row_css = "background-color: #666; color: #fff;") %>%
pack_rows("Keguruan dan Ilmu Pendidikan", 2, 19, label_row_css = "background-color: #666; color: #fff;") %>%
pack_rows("Teknik", 20, 25, label_row_css = "background-color: #666; color: #fff;") %>%
pack_rows("Pertanian", 26, 29, label_row_css = "background-color: #666; color: #fff;") %>%
pack_rows("Ekonomi dan Bisnis", 30, 37, label_row_css = "background-color: #666; color: #fff;") %>%
pack_rows("Ilmu Sosial dan Ilmu Politik", 38, 40, label_row_css = "background-color: #666; color: #fff;") %>%
pack_rows("Pascasarjana", 41, 52, label_row_css = "background-color: #666; color: #fff;") %>%
pack_rows("Kedokteran", 53, 57, label_row_css = "background-color: #666; color: #fff;")
db <- read_excel("G:/My Drive/#PMB/2020/Dashboard/maba20_4web.xlsx")
data <- db %>%
group_by(jalur) %>%
summarize(lolos = n(),
regis = sum(registrasi == "registrasi", na.rm = T),
nim = sum(nim == "diterima", na.rm = T))
data
library(googlesheets4)
gs4_deauth()
## 01 Keringanan
data <- NULL
keringanan <- "https://docs.google.com/spreadsheets/d/1LGW6-zgG8rZoDog5KEXwqoE3IFK2aD2O_MW_gJ2JdCQ/edit?usp=sharing"
keringanan
data1 <- data.frame(read_sheet(keringanan))
data1
names(data1)
data1[,c(2, 4)]
names(data1)
dim(data1)
unique(data1$Email.address)
sum(unique(data1$Email.address))
length(unique(data1$Email.address))
dim(data1)
names(data1)
data1 <- data1[,c(1,2,4,5)]
names(data1)
names(data1) <- c("timestamp", "email", "nama", "no_ktp")
data1 <- unique(data1)
data <- rbind(data, data1)
sbm_kip <- "https://docs.google.com/spreadsheets/d/1BQkSjjr5MqXxkzTEM6Rbpwn0wYLX177xeYdzrMepeD0/edit?usp=sharing"
data1 <- data.frame(read_sheet(sbm_kip))
data1 <- data1[,c(1,2,4,5)]
names(data1) <- c("timestamp", "email", "nama", "no_ktp")
data1 <- unique(data1)
data <- rbind(data, data1)
dim(data)
smm <- "https://docs.google.com/spreadsheets/d/1xF0vL_xCOOyK8zrUWQUQcQy_jncBUiZPLfaa8aYKOAU/edit?usp=sharing"
data1 <- data.frame(read_sheet(smm))
data1 <- data1[,c(1,2,4,5)]
names(data1) <- c("timestamp", "email", "nama", "no_ktp")
data1 <- unique(data1)
data <- rbind(data, data1)
dim(data)
## 04 umm
umm <- 'https://docs.google.com/spreadsheets/d/1PetxRxMiQJ1NI4P_OxJDxCu_ZmXs_1MN6Y-0bQhMKpU/edit?usp=sharing'
data1 <- data.frame(read_sheet(umm))
data1 <- data1[,c(1,2,4,5)]
names(data1) <- c("timestamp", "email", "nama", "no_ktp")
data1 <- unique(data1)
data <- rbind(data, data1)
head(data)
dim(data)
names(data)
data <- NULL
sbm_reg <- "https://docs.google.com/spreadsheets/d/1LGW6-zgG8rZoDog5KEXwqoE3IFK2aD2O_MW_gJ2JdCQ/edit?usp=sharing"
data1 <- data.frame(read_sheet(sbm_reg))
data1 <- data1[,c(1,2,4,5)]
names(data1) <- c("waktu_daftar", "email", "nama", "no_ktp")
data1 <- unique(data1)
data <- rbind(data, data1)
## 02 sbmptn kip
sbm_kip <- "https://docs.google.com/spreadsheets/d/1BQkSjjr5MqXxkzTEM6Rbpwn0wYLX177xeYdzrMepeD0/edit?usp=sharing"
data1 <- data.frame(read_sheet(sbm_kip))
data1 <- data1[,c(1,2,4,5)]
names(data1) <- c("waktu_daftar", "email", "nama", "no_ktp")
data1 <- unique(data1)
data <- rbind(data, data1)
## 03 smmptn
smm <- "https://docs.google.com/spreadsheets/d/1xF0vL_xCOOyK8zrUWQUQcQy_jncBUiZPLfaa8aYKOAU/edit?usp=sharing"
data1 <- data.frame(read_sheet(smm))
data1 <- data1[,c(1,2,4,5)]
names(data1) <- c("waktu_daftar", "email", "nama", "no_ktp")
data1 <- unique(data1)
data <- rbind(data, data1)
## 04 umm
umm <- 'https://docs.google.com/spreadsheets/d/1PetxRxMiQJ1NI4P_OxJDxCu_ZmXs_1MN6Y-0bQhMKpU/edit?usp=sharing'
data1 <- data.frame(read_sheet(umm))
data1 <- data1[,c(1,2,4,5)]
names(data1) <- c("waktu_daftar", "email", "nama", "no_ktp")
data1 <- unique(data1)
data <- rbind(data, data1)
head(data)
names(data) <- c("Waktu Pendaftaran", "Email", "Nama", "Program Studi")
DT::datatable(data,
rownames = F)#,
names(data) <- c("Waktu Pendaftaran", "Email", "Nama", "No KTP")
DT::datatable(data,
rownames = F)#,
data <- data[,c(1, 2)]
names(data) <- c("Waktu Pendaftaran", "Email")
DT::datatable(data,
rownames = F)#,
library(tidyverse)
library(magick)
install.packages('magick')
library(magick)
library(grid)
img <- image_read("https://pbs.twimg.com/media/EXQlsS6WAAAXy3W?format=jpg&name=medium")
d <- read_csv("https://raw.githubusercontent.com/nytimes/covid-19-data/master/us.csv")
img
d
tail(d)
dat <- d %>%
bind_rows(tibble(date = Sys.Date() + 1:91)) %>%
filter(date >= "2020-02-26") %>%
mutate(death = c(deaths[1], diff(deaths)))
dat
p <- predict(lm(log(death + 0.5) ~ poly(date, 3), data = dat), newdata = dat)
p1 <- ggplot(dat, aes(x = date, y = death)) +
geom_line() +
annotation_custom(
rasterGrob(img, width = unit(1, "npc"),  height = unit(1, "npc")),
-Inf, Inf, -Inf, Inf) +
ylim(c(-500, 5000)) +
theme(axis.title = element_blank(),
axis.text = element_blank(),
axis.ticks = element_blank()) +
scale_x_date(limits = as.Date(c('2020-02-17','2020-08-10')))
p1
p1
p2 <- ggplot(dat, aes(x = date, y = death)) +
geom_line() +
annotation_custom(
rasterGrob(img, width = unit(1, "npc"),  height = unit(1, "npc")),
-Inf, Inf, -Inf, Inf) +
geom_line() +
ylim(c(-500, 5000)) +
theme(axis.title = element_blank(),
axis.text = element_blank(),
axis.ticks = element_blank()) +
scale_x_date(limits = as.Date(c('2020-02-17','2020-08-10')))
p2
p3 <- ggplot(dat, aes(x = date, y = death)) +
annotation_custom(
rasterGrob(img, width = unit(1, "npc"),  height = unit(1, "npc")),
-Inf, Inf, -Inf, Inf) +
geom_line() +
geom_line(aes(x = date, y = exp(p))) +
ylim(c(-500, 5000)) +
theme(axis.title = element_blank(),
axis.text = element_blank(),
axis.ticks = element_blank()) +
scale_x_date(limits = as.Date(c('2020-02-17','2020-08-10')))
p3
fig1 <- image_graph(width = 1000, height = 650, res = 300)
p1
dev.off()
fig2 <- image_graph(width = 1000, height = 650, res = 300)
p2
dev.off()
fig2 <- fig2 %>%
image_annotate("I've added death data from NYTimes - @LucyStats",
location = "+650+400", size = 15)
fig3 <- image_graph(width = 1000, height = 650, res = 300)
p3
dev.off()
fig3 <- fig3 %>%
image_annotate("I've added death data from NYTimes - @LucyStats",
location = "+650+400", size = 15) %>%
image_annotate("I've added a model with 3rd degree polynomial\n for log(death + 0.5) - @LucyStats",
location = "+650+420", size = 15)
image_join(fig1, fig2, fig3) %>%
image_animate(fps = 1)
setwd("G:/My Drive/# REGISTRASI DAN STATISTIK/DATA LULUSAN")
dir()
library(readxl)
lulus <- read_excel("G:/My Drive/# REGISTRASI DAN STATISTIK/DATA LULUSAN/master_lulusan.xlsx")
lulus
names(lulus)
dim(lulus)
lulus <- unique(lulus)
dim(lulus)
library(tidyverse)
lulus %>%
select(NIM) %>%
mutate(n = n()) %>%
filter(n > 1)
lulus %>%
group_by(NIM) %>%
mutate(n = n()) %>%
filter(n > 1)
lulus %>%
group_by(NIM) %>%
mutate(n = n())
lulus %>%
group_by(NIM) %>%
summarise(n = n())
lulus %>%
group_by(NIM) %>%
summarise(n = n()) %>%
filter(n > 1)
lulus %>%
group_by(NIM) %>%
summarise(n = n()) %>%
filter(n > 1) %>%
arrange(desc(n))
dobel <- lulus %>%
group_by(NIM) %>%
summarise(n = n()) %>%
filter(n > 1) %>%
arrange(desc(n))
left_join(dobel[,-2], lulus)
write.csv(lulus, "master_lulusan.csv")
dobel <- lulus %>%
group_by(NIM) %>%
summarise(n = n()) %>%
filter(n > 1) %>%
arrange(desc(n))
dobel <- left_join(dobel[,-2], lulus)
write.csv(dobel, "lulusan_dobel")
str(dobel)
dobel
lulus <- read_excel("G:/My Drive/# REGISTRASI DAN STATISTIK/DATA LULUSAN/master_lulusan.xlsx")
lulus
names(lulus)
dim(lulus)
lulus <- unique(lulus)
dim(lulus)
write.csv(lulus, "master_lulusan.csv")
dobel <- lulus %>%
group_by(NIM) %>%
summarise(n = n()) %>%
filter(n > 1) %>%
arrange(desc(n))
dobel <- left_join(dobel[,-2], lulus)
write.csv(dobel, "lulusan_dobel")
dobel
lulus
lulus <- read_excel("G:/My Drive/# REGISTRASI DAN STATISTIK/DATA LULUSAN/master_lulusan.xlsx")
lulus
names(lulus)
dim(lulus)
lulus <- unique(lulus)
dim(lulus)
write.csv(lulus, "master_lulusan.csv")
dobel <- lulus %>%
group_by(NIM) %>%
summarise(n = n()) %>%
filter(n > 1) %>%
arrange(desc(n))
dobel <- left_join(dobel[,-2], lulus)
write.csv(dobel, "lulusan_dobel")
dobel
write.csv(dobel, "lulusan_dobel.csv")
setwd("~/Github Publish/Corona/masdian.github.io")
